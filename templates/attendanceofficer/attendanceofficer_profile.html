{% extends 'attendanceofficer/attendanceofficer_layout.html' %}
{% load static %}
{% block content %}

<div class="main-panel">
    <div class="content-wrapper">
        <div class="row">

            <div class="row justify-content-center">
                <div class="col-md-6 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title text-center mb-4">My Profile</h4>
                            <form class="forms-sample" method="POST" action="{% url 'update_attendanceofficer_profile' %}">
                                {% csrf_token %}

                                <div class="form-group">
                                    <label for="exampleInputPassword4">Ful name</label>
                                    <input type="text" name="full_name" class="form-control" id="exampleInputPassword4"
                                        placeholder="Name" value="{{ user.full_name }}" pattern="[A-Za-z\s]+" title="The name must contain only alphabets" required>
                                </div>

                                <div class="form-group">
                                    <label for="exampleInputPassword4">Email</label>
                                    <input type="text" name="email" class="form-control" id="exampleInputPassword4"
                                        placeholder="Email" value="{{ user.email }}" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword4">Phone</label>
                                    <input type="text" name="phone" class="form-control" id="exampleInputPassword4"
                                        placeholder="Phone Number" value="{{ user.phone }}" pattern="[1-9][0-9]{9}" maxlength="10"
                                        title="Phone number must be 10 digits and cannot be all zeros" required>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword4">Role</label>
                                    <input type="text" name="role" class="form-control" id="exampleInputPassword4"
                                        placeholder="Role" value="{{ user.role }}" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword4">Department Name</label>
                                    <select name="department" class="form-control">
                                        <option value="{{ user_department.department_id }}" selected>{{ user_department.department_name }}</option>

                                        {% for dept in departments %}
                                            {% if dept.department_id != user_department.department_id %}
                                                <option value="{{ dept.department_id }}">{{ dept.department_name }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="text-center mt-4">
                                    <button type="submit" class="btn btn-primary me-2 ">Update</button>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    {% endblock %}